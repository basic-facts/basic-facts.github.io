import{j as o,L as k,r as h,N as $,a as d,F as M,s as N,B as R,R as b,b as z,c as D}from"./vendor.a354651e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();const B={name:"19thtl7",styles:"position:absolute;top:0.1rem;left:0.1rem;appearance:none;border-radius:50%;width:3rem;height:3rem;border:none;background:none;font-size:1.5rem;color:grey;display:flex;justify-content:center;align-items:center;padding-right:0.1rem;.symbol{transform:scaleX(0.68);color:grey;}&:active{opacity:1;background:black;color:white;}"};function A({onClick:e}){return o(k,{to:"/",children:o("div",{css:B,onClick:e,children:o("div",{className:"symbol",children:"\u1438"})})})}const j={name:"91e0ow",styles:"width:100vw;height:100vh;font-size:40vh;display:flex;justify-content:center;align-items:center;padding-bottom:10vh"};function Y(){const[e,t]=h.exports.useState(5);return h.exports.useEffect(()=>{const n=setInterval(()=>{t(e-1)},750);return()=>clearInterval(n)}),e===0?o($,{to:"/game",replace:!0}):d("div",{css:j,children:[o(A,{}),o("div",{children:e})]})}const F={name:"17m99m0",styles:"position:absolute;bottom:1rem;left:1rem;right:1rem;background:none;font-size:3rem;line-height:4rem;display:flex;justify-content:space-between;align-items:center"};function _({children:e}){return o("div",{css:F,children:e})}const U={name:"1tezs3d",styles:"text-align:center;appearance:none;border:none;background:none;padding:0 1rem;font-size:3rem;line-height:4rem;border:solid 0.25rem darkgreen;border-radius:1rem;display:flex;justify-content:center;align-items:center;background:lightgreen;color:green;font-weight:bold;width:100%;&:active{bottom:0.9rem;text-decoration:none;}&:active.disabled{bottom:0;}&.disabled{opacity:32%;}"};function L({to:e,children:t,onClick:n,disabled:r}){function s(c){if(r){c.preventDefault();return}n==null||n(c)}return o(k,{to:e,css:U,onClick:s,className:r?"disabled":"",children:t})}function q(e,t){const n=`00000${e}`;return n.slice(n.length-t)}function E(e){const t=Math.trunc(e/60),n=e-t*60;return{wholeMinutes:t,leftoverSeconds:n}}function Q(e){const{wholeMinutes:t,leftoverSeconds:n}=E(e);return`${t>0?t+" min ":""}${n} sec`}class w{constructor(t){this.state=t}get elapsedChanged(){return this.actualElapsedSeconds!==this.state.elapsedSeconds}get actualElapsedSeconds(){return Math.trunc((Date.now()-this.state.startTimestamp)/1e3)}get secondsRemaining(){return this.state.allowedSeconds-this.state.elapsedSeconds}get numAnswers(){return this.state.answers.length}get numCorrectAnswers(){return this.state.answers.reduce((t,n,r)=>n===this.state.problems[r].correctAnswer?t+1:t,0)}get elapsedTime(){const{wholeMinutes:t,leftoverSeconds:n}=E(this.state.elapsedSeconds);return`${t>0?t+" min ":""}${n} sec`}get numProblems(){return this.state.problemCount}get percentCorrectDisplay(){return`${Math.round(this.numCorrectAnswers/this.numAnswers*100)}%`}get averageTimePerQuestion(){return`${(this.state.elapsedSeconds/this.numAnswers).toFixed(1)} seconds per question`}get percentCorrect(){return this.numCorrectAnswers/this.numAnswers*100}get allAnswered(){return this.numAnswers===this.numProblems}get finished(){return this.state.elapsedSeconds>=this.state.allowedSeconds||this.state.answers.length===this.state.problemCount}}const G={name:"17fxwvp",styles:"width:100vw;height:100vh;display:flex;font-size:5vh;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:10vh;section{display:flex;font-size:5vh;flex-direction:column;justify-content:center;align-items:center;}section+section{margin-top:2vh;}p{margin:0;padding:0;text-align:center;font-size:5vh;}.title{font-size:2rem;margin-bottom:-0.5rem;}.fact{font-size:10vh;margin:-1rem 0;}.micro-fact{font-size:3vh;color:#777;}.great{color:#028118;}.ok{color:#f1984a;}.poor{color:#eb3e3e;}"},O=["ANOTHER!","AGAIN!","REPLAY","MORE!"];function H({state:e}){function t(){const s=Math.trunc(Math.random()*O.length);return O[s]}const n=h.exports.useMemo(t,[]),r=new w(e);return d("div",{css:G,children:[o(A,{}),d("section",{children:[d("p",{className:"title",children:[r.numProblems," questions"]}),d("p",{className:"micro-fact",children:["allowed time: ",Q(e.allowedSeconds)]})]}),d("section",{children:[o("p",{className:"title",children:"Speed"}),o("p",{className:`fact ${K(r.secondsRemaining,e.options.timeLimit)}`,children:r.elapsedTime}),o("p",{className:"micro-fact",children:r.averageTimePerQuestion})]}),d("section",{children:[o("p",{className:"title",children:"Accuracy"}),d("p",{className:`fact ${W(r.percentCorrect,r.allAnswered)}`,children:[r.numCorrectAnswers,"/",r.numAnswers,o("br",{})]}),d("p",{className:"micro-fact",children:[r.percentCorrectDisplay," accurate"," ",!r.allAnswered&&d(M,{children:["(",r.numProblems-r.numAnswers," missed)"]})]})]}),o(_,{children:o(L,{to:"/countdown",children:n})})]})}function W(e,t){return e<70?"poor":e<93?"ok":t?"great":"ok"}function K(e,t){switch(t){case"insane":return e>2?"great":"ok"}return e<5?"poor":e<30?"ok":"great"}const J={name:"4fozbo",styles:"font-size:10vh;width:40vw;height:40vw;display:flex;padding-bottom:0.7rem;background:hotpink;justify-content:center;align-items:center;border-radius:1.5rem;background:white;border:solid 0.25rem black;&:active{background:black;color:white;}"};function X({answer:e,onClick:t}){return o("button",{onClick:t,css:J,children:e})}const V={name:"1n78umm",styles:"font-size:10vh;width:100%;justify-content:center;align-items:space-around;display:flex;flex-wrap:wrap;margin:0;padding:0;gap:1rem;position:absolute;bottom:calc((100vw - 2 * 40vw) / 2)"};function Z({children:e}){return o("div",{css:V,children:e})}const ee={name:"1dbrxej",styles:"position:absolute;right:1rem;top:2vh;color:grey;&.close{color:red;font-weight:bold;}"};function te({remainingSeconds:e}){const{wholeMinutes:t,leftoverSeconds:n}=E(e),s=t===0&&n<10?"close":"";return d("div",{css:ee,className:s,children:[t,":",q(n,2)]})}const ne={name:"1vdgxkh",styles:"width:50vw;height:0.5rem;position:relative;border:solid 1px #d0d0d0;border-radius:0.5rem;left:25vw;top:3.5vh;overflow:hidden"},re={name:"553h9c",styles:"width:80vw;height:0.5rem;top:0;left:0;height:0.5rem;background:#d0d0d0"};function se({n:e,of:t}){const n=`${e/t*100}%`;return o("div",{css:ne,children:o("div",{css:re,style:{width:n}})})}const oe={name:"15a6l20",styles:"font-size:17vh;width:100vw;height:calc(100vh - 100vw - 3rem);justify-content:center;align-items:center;display:flex;padding-bottom:0.8rem;font-weight:100;position:absolute;top:0"};function ce({prompt:e}){return o("div",{css:oe,children:e})}function ie({state:e,dispatch:t}){const n=e.problems[e.activeProblemIndex];return d(M,{children:[o(se,{n:e.activeProblemIndex+1,of:e.problemCount}),o(te,{remainingSeconds:e.allowedSeconds-e.elapsedSeconds}),o(ce,{prompt:n.prompt}),o(Z,{children:n.choices.map(r=>{function s(){t({type:"choose_answer",answer:r})}return o(X,{answer:r,onClick:s})})}),o(A,{})]})}const C=4;function ae(e){const t=[];let n;for(;t.length<e.questions;){const r=de(e);r.prompt!==(n==null?void 0:n.prompt)&&t.push(r)}return t}function de(e){switch(e.modes[Math.trunc(Math.random()*e.modes.length)]){case"div":return fe(e);case"mult":return me(e);case"add":return le(e);case"sub":return ue(e);default:throw new Error(`mode NYI: ${e.modes[0]}`)}}function le(e){const t=u(e.min,e.max),n=u(e.min,e.max),r=t+n,s=`${r}`,c=`${t} + ${n}`;let i;(t==1||n==1)&&(i=[n*(t+1),t*(n+1)]);const a=t+1,m=t-1,f=n+1,l=n-1;return i=[t+a,n+m,f+l],{correctAnswer:s,choices:P(i,r,e,"add"),prompt:c}}function ue(e){const t=u(e.min,e.max),n=u(e.min,e.max),r=t+n,s=`${t}`,c=`${r} - ${n}`;let i;return t==1&&(i=[t+1,t+2]),i=[t-1,t+1],{correctAnswer:s,choices:P(i,t,e,"sub"),prompt:c}}function me(e){const t=u(e.min,e.max),n=u(e.min,e.max),r=t*n,s=`${r}`,c=`${t} \xD7 ${n}`,i=he(r,t,n,e);return{correctAnswer:s,choices:i,prompt:c}}function he(e,t,n,r){if(t==1||n==1)return I([n*(t+1),t*(n+1)],e,r);const s=t+1,c=t-1,i=n+1,a=n-1,m=[t*s,n*c,i*a];return I(m,e,r)}function I(e,t,n){const r=new Set([...e,t]);for(;r.size<C;){const i=u(n.min,n.max),a=u(n.min,n.max);r.add(i*a)}const s=Array.from(r).map(i=>`${i}`);return N(s)}function fe(e){const t=u(e.min,e.max),n=u(e.min,e.max),r=`${t}`,c=`${t*n} \xF7 ${n}`,i=ge(t,e);return{correctAnswer:r,choices:i,prompt:c}}function ge(e,t){const{min:n,max:r}=t;if(e===n){const a=[n+1,n+2];return S(a,e,t)}if(e===r){const a=[r-1,r-2];return S(a,e,t)}const s=e+1,c=e-1;return S([s,c],e,t)}function S(e,t,n){const r=new Set([...e,t]);for(;r.size<C;){const i=u(n.min,n.max);r.add(i)}const s=Array.from(r).map(i=>`${i}`);return N(s)}function P(e,t,n,r){const s=new Set([...e,t]);for(;s.size<C;){const a=u(n.min,n.max),m=u(n.min,n.max);switch(r){case"add":s.add(a+m);break;case"sub":s.add(a);break;case"mult":s.add(a*m);break;case"div":s.add(a);break}}const c=Array.from(s).map(a=>`${a}`);return N(c)}function u(e,t){const n=t-e+1;return Math.trunc(Math.random()*n)+e}const pe=100;function ve(e,t){const n=new w(e);let r=0;h.exports.useEffect(()=>{if(n.state=e,n.finished){clearInterval(r);return}function s(){n.elapsedChanged&&t({type:"update_elapsed"})}return r=setInterval(s,pe),()=>clearInterval(r)},[e.elapsedSeconds])}function y(e){switch(e){case"easy":return 5;case"med":return 3;case"hard":return 2;case"insane":return 1}}const we={max:10,min:1,modes:["mult","div"],questions:25,timeLimit:"med"};let v;try{v=JSON.parse(localStorage["BASICFACTS:OPTIONS"])}catch{v=we}const T={set gameOptions(e){v=e,localStorage["BASICFACTS:OPTIONS"]=JSON.stringify(e)},get gameOptions(){return v}};function be(){const e={options:T.gameOptions},[t,n]=h.exports.useReducer(ye,e,xe);return Se(n),ve(t,n),new w(t).finished?o(H,{state:t}):o(ie,{state:t,dispatch:n})}function Se(e){h.exports.useEffect(()=>{e({type:"start_game"})},[])}function xe({options:e}){const t=ae(e),n=e.questions*y(e.timeLimit);return{options:e,problems:t,activeProblemIndex:0,problemCount:t.length,answers:[],allowedSeconds:n,elapsedSeconds:0,startTimestamp:-1}}function ye(e,t){switch(t.type){case"choose_answer":return Te(e,t);case"start_game":return Ne(e);case"update_elapsed":return Ae(e)}return e}function Te(e,t){e.answers[e.activeProblemIndex]=t.answer;const n=e.activeProblemIndex+1;return{...e,activeProblemIndex:n}}function Ne(e){return{...e,startTimestamp:Date.now()}}function Ae(e){const t=new w(e);return{...e,elapsedSeconds:t.actualElapsedSeconds}}const Ee={name:"36e18b",styles:"width:100%;line-height:2.7rem;height:3rem;font-size:1.5rem;display:flex;border:solid 0.1rem black;border-radius:0.5rem;overflow:hidden;&.modes>div{font-size:3rem;line-height:2.5rem;}&.modes>div.selected{border-right-color:white;}&.error{border-color:red;}&.error>div{border-right-color:red;color:red;}"},Ce={name:"jnbk6g",styles:"text-align:center;border-right:solid 0.1rem black;&:last-child{border-right:0;}&.selected{background:black;color:white;}"};function x({modes:e,options:t,value:n,onSelect:r,onDeselect:s,validationError:c}){const i=`${100/t.length}%`;return o("div",{css:Ee,className:`${e?"modes":""} ${c?"error":""}`,children:t.map((a,m)=>{const f=Array.isArray(n)?n.includes(a.value):a.value===n;function l(){Array.isArray(n)&&new Set(n).has(a.value)?s==null||s(a.value):r==null||r(a.value)}function g(){Oe()||l()}return o("div",{onTouchStart:l,onMouseDown:g,css:Ce,className:`${f?"selected":""}`,style:{width:i},children:a.text},m)})})}function Oe(){return"ontouchstart"in window||navigator.maxTouchPoints>0}const Ie={name:"u9cnc0",styles:"p{text-align:center;margin-bottom:0;}padding:1rem;.hint{text-align:center;color:grey;}"},ke=[{text:"+",value:"add"},{text:"-",value:"sub"},{text:"\xD7",value:"mult"},{text:"\xF7",value:"div"}],Me=[{text:"10",value:10},{text:"25",value:25},{text:"50",value:50},{text:"75",value:75},{text:"100",value:100}],_e=[{text:"Easy",value:"easy"},{text:"Med",value:"med"},{text:"Hard",value:"hard"},{text:"\u{1F92F}",value:"insane"}];function Le(){const e=T.gameOptions,[t,n]=h.exports.useState(e.timeLimit),[r,s]=h.exports.useState(e.modes),[c,i]=h.exports.useState(e.questions);T.gameOptions={max:10,min:1,modes:r,questions:c,timeLimit:t};function a(l){const g=[...r.filter(p=>p!==l),l];s(g)}function m(l){const g=r.filter(p=>p!==l);s(g)}const f=r.length===0;return d("div",{css:Ie,children:[o($e,{}),o("p",{children:"Which modes?"}),o(x,{modes:!0,options:ke,value:r,onSelect:a,onDeselect:m,validationError:f}),o("p",{children:"How many questions?"}),o(x,{options:Me,value:c,onSelect:l=>i(l)}),o("p",{children:"Time pressure?"}),o(x,{options:_e,value:t,onSelect:l=>n(l)}),d("div",{className:"hint",children:[y(t)," second",y(t)===1?"":"s"," per question",t==="insane"?"!!":""]}),o(_,{children:o(L,{to:"/countdown",disabled:f,children:"START!"})})]})}const Pe={name:"1x6xj4j",styles:"font-size:8vh;text-align:center"};function $e(){return o("h1",{css:Pe,children:"BASIC FACTS"})}function Re(){return o(R,{children:d(z,{children:[o(b,{path:"/",element:o(Le,{})}),o(b,{path:"/countdown",element:o(Y,{})}),o(b,{path:"/game",element:o(be,{})})]})})}async function ze(){const e=o(h.exports.StrictMode,{children:o(Re,{})}),t=document.getElementById("root");D(t).render(e)}ze();
