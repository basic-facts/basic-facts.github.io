import{j as o,L as M,r as h,N as P,a as d,F as _,s as T,B as R,R as w,b as z,c as D}from"./vendor.a354651e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const j={name:"19thtl7",styles:"position:absolute;top:0.1rem;left:0.1rem;appearance:none;border-radius:50%;width:3rem;height:3rem;border:none;background:none;font-size:1.5rem;color:grey;display:flex;justify-content:center;align-items:center;padding-right:0.1rem;.symbol{transform:scaleX(0.68);color:grey;}&:active{opacity:1;background:black;color:white;}"};function E({onClick:e}){return o(M,{to:"/",children:o("div",{css:j,onClick:e,children:o("div",{className:"symbol",children:"\u1438"})})})}const B={name:"91e0ow",styles:"width:100vw;height:100vh;font-size:40vh;display:flex;justify-content:center;align-items:center;padding-bottom:10vh"};function Y(){const[e,t]=h.exports.useState(5);return h.exports.useEffect(()=>{const n=setInterval(()=>{t(e-1)},750);return()=>clearInterval(n)}),e===0?o(P,{to:"/game",replace:!0}):d("div",{css:B,children:[o(E,{}),o("div",{children:e})]})}const F={name:"17m99m0",styles:"position:absolute;bottom:1rem;left:1rem;right:1rem;background:none;font-size:3rem;line-height:4rem;display:flex;justify-content:space-between;align-items:center"};function O({children:e}){return o("div",{css:F,children:e})}const U={name:"1tezs3d",styles:"text-align:center;appearance:none;border:none;background:none;padding:0 1rem;font-size:3rem;line-height:4rem;border:solid 0.25rem darkgreen;border-radius:1rem;display:flex;justify-content:center;align-items:center;background:lightgreen;color:green;font-weight:bold;width:100%;&:active{bottom:0.9rem;text-decoration:none;}&:active.disabled{bottom:0;}&.disabled{opacity:32%;}"};function L({to:e,children:t,onClick:n,disabled:r}){function s(i){if(r){i.preventDefault();return}n==null||n(i)}return o(M,{to:e,css:U,onClick:s,className:r?"disabled":"",children:t})}function q(e,t){const n=`00000${e}`;return n.slice(n.length-t)}function N(e){const t=Math.trunc(e/60),n=e-t*60;return{wholeMinutes:t,leftoverSeconds:n}}function Q(e){const{wholeMinutes:t,leftoverSeconds:n}=N(e);return`${t>0?t+"m ":""}${n}s`}class v{constructor(t){this.state=t}get elapsedChanged(){return this.actualElapsedSeconds!==this.state.elapsedSeconds}get actualElapsedSeconds(){return Math.trunc((Date.now()-this.state.startTimestamp)/1e3)}get secondsRemaining(){return this.state.allowedSeconds-this.state.elapsedSeconds}get numAnswers(){return this.state.answers.length}get numCorrectAnswers(){return this.state.answers.reduce((t,n,r)=>n===this.state.problems[r].correctAnswer?t+1:t,0)}get elapsedTime(){const{wholeMinutes:t,leftoverSeconds:n}=N(this.state.elapsedSeconds);return`${t>0?t+" mins ":""}${n} secs`}get numProblems(){return this.state.problemCount}get percentCorrectDisplay(){return`${Math.round(this.numCorrectAnswers/this.numAnswers*100)}%`}get averageTimePerQuestion(){return`${(this.state.elapsedSeconds/this.numAnswers).toFixed(1)} seconds per question`}get percentCorrect(){return this.numCorrectAnswers/this.numAnswers*100}get allAnswered(){return this.numAnswers===this.numProblems}get finished(){return this.state.elapsedSeconds>=this.state.allowedSeconds||this.state.answers.length===this.state.problemCount}}const G={name:"17fxwvp",styles:"width:100vw;height:100vh;display:flex;font-size:5vh;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:10vh;section{display:flex;font-size:5vh;flex-direction:column;justify-content:center;align-items:center;}section+section{margin-top:2vh;}p{margin:0;padding:0;text-align:center;font-size:5vh;}.title{font-size:2rem;margin-bottom:-0.5rem;}.fact{font-size:10vh;margin:-1rem 0;}.micro-fact{font-size:3vh;color:#777;}.great{color:#028118;}.ok{color:#f1984a;}.poor{color:#eb3e3e;}"},C=["ANOTHER!","AGAIN!","REPLAY","MORE!"];function H({state:e}){function t(){const s=Math.trunc(Math.random()*C.length);return C[s]}const n=h.exports.useMemo(t,[]),r=new v(e);return d("div",{css:G,children:[o(E,{}),d("section",{children:[d("p",{className:"title",children:[r.numProblems," questions"]}),d("p",{className:"micro-fact",children:["allowed time: ",Q(e.allowedSeconds)]})]}),d("section",{children:[o("p",{className:"title",children:"Time"}),o("p",{className:`fact ${K(r.secondsRemaining,e.options.timeLimit)}`,children:r.elapsedTime}),o("p",{className:"micro-fact",children:r.averageTimePerQuestion})]}),d("section",{children:[o("p",{className:"title",children:"Accuracy"}),d("p",{className:`fact ${W(r.percentCorrect,r.allAnswered)}`,children:[r.numCorrectAnswers,"/",r.numAnswers,o("br",{})]}),d("p",{className:"micro-fact",children:[r.percentCorrectDisplay," accurate"," ",!r.allAnswered&&d(_,{children:["(",r.numProblems-r.numAnswers," missed)"]})]})]}),o(O,{children:o(L,{to:"/countdown",children:n})})]})}function W(e,t){return e<70?"poor":e<93?"ok":t?"great":"ok"}function K(e,t){switch(t){case"insane":return e>2?"great":"ok"}return e<5?"poor":e<30?"ok":"great"}const X={name:"4fozbo",styles:"font-size:10vh;width:40vw;height:40vw;display:flex;padding-bottom:0.7rem;background:hotpink;justify-content:center;align-items:center;border-radius:1.5rem;background:white;border:solid 0.25rem black;&:active{background:black;color:white;}"};function V({answer:e,onClick:t}){return o("button",{onClick:t,css:X,children:e})}const Z={name:"1n78umm",styles:"font-size:10vh;width:100%;justify-content:center;align-items:space-around;display:flex;flex-wrap:wrap;margin:0;padding:0;gap:1rem;position:absolute;bottom:calc((100vw - 2 * 40vw) / 2)"};function J({children:e}){return o("div",{css:Z,children:e})}const ee={name:"1dbrxej",styles:"position:absolute;right:1rem;top:2vh;color:grey;&.close{color:red;font-weight:bold;}"};function te({remainingSeconds:e}){const{wholeMinutes:t,leftoverSeconds:n}=N(e),s=t===0&&n<10?"close":"";return d("div",{css:ee,className:s,children:[t,":",q(n,2)]})}const ne={name:"1vdgxkh",styles:"width:50vw;height:0.5rem;position:relative;border:solid 1px #d0d0d0;border-radius:0.5rem;left:25vw;top:3.5vh;overflow:hidden"},re={name:"553h9c",styles:"width:80vw;height:0.5rem;top:0;left:0;height:0.5rem;background:#d0d0d0"};function se({n:e,of:t}){const n=`${e/t*100}%`;return o("div",{css:ne,children:o("div",{css:re,style:{width:n}})})}const oe={name:"15a6l20",styles:"font-size:17vh;width:100vw;height:calc(100vh - 100vw - 3rem);justify-content:center;align-items:center;display:flex;padding-bottom:0.8rem;font-weight:100;position:absolute;top:0"};function ie({prompt:e}){return o("div",{css:oe,children:e})}function ce({state:e,dispatch:t}){const n=e.problems[e.activeProblemIndex];return d(_,{children:[o(se,{n:e.activeProblemIndex+1,of:e.problemCount}),o(te,{remainingSeconds:e.allowedSeconds-e.elapsedSeconds}),o(ie,{prompt:n.prompt}),o(J,{children:n.choices.map(r=>{function s(){t({type:"choose_answer",answer:r})}return o(V,{answer:r,onClick:s})})}),o(E,{})]})}const A=4;function ae(e){const t=[];let n;for(;t.length<e.questions;){const r=de(e);r.prompt!==(n==null?void 0:n.prompt)&&t.push(r)}return t}function de(e){switch(e.modes[Math.trunc(Math.random()*e.modes.length)]){case"div":return fe(e);case"mult":return me(e);case"add":return le(e);case"sub":return ue(e);default:throw new Error(`mode NYI: ${e.modes[0]}`)}}function le(e){const t=u(e.min,e.max),n=u(e.min,e.max),r=t+n,s=`${r}`,i=`${t} + ${n}`;let c;(t==1||n==1)&&(c=[n*(t+1),t*(n+1)]);const a=t+1,m=t-1,f=n+1,l=n-1;return c=[t+a,n+m,f+l],{correctAnswer:s,choices:$(c,r,e,"add"),prompt:i}}function ue(e){const t=u(e.min,e.max),n=u(e.min,e.max),r=t+n,s=`${t}`,i=`${r} - ${n}`;let c;return t==1&&(c=[t+1,t+2]),c=[t-1,t+1],{correctAnswer:s,choices:$(c,t,e,"sub"),prompt:i}}function me(e){const t=u(e.min,e.max),n=u(e.min,e.max),r=t*n,s=`${r}`,i=`${t} \xD7 ${n}`,c=he(r,t,n,e);return{correctAnswer:s,choices:c,prompt:i}}function he(e,t,n,r){if(t==1||n==1)return k([n*(t+1),t*(n+1)],e,r);const s=t+1,i=t-1,c=n+1,a=n-1,m=[t*s,n*i,c*a];return k(m,e,r)}function k(e,t,n){const r=new Set([...e,t]);for(;r.size<A;){const c=u(n.min,n.max),a=u(n.min,n.max);r.add(c*a)}const s=Array.from(r).map(c=>`${c}`);return T(s)}function fe(e){const t=u(e.min,e.max),n=u(e.min,e.max),r=`${t}`,i=`${t*n} \xF7 ${n}`,c=ge(t,e);return{correctAnswer:r,choices:c,prompt:i}}function ge(e,t){const{min:n,max:r}=t;if(e===n){const a=[n+1,n+2];return b(a,e,t)}if(e===r){const a=[r-1,r-2];return b(a,e,t)}const s=e+1,i=e-1;return b([s,i],e,t)}function b(e,t,n){const r=new Set([...e,t]);for(;r.size<A;){const c=u(n.min,n.max);r.add(c)}const s=Array.from(r).map(c=>`${c}`);return T(s)}function $(e,t,n,r){const s=new Set([...e,t]);for(;s.size<A;){const a=u(n.min,n.max),m=u(n.min,n.max);switch(r){case"add":s.add(a+m);break;case"sub":s.add(a);break;case"mult":s.add(a*m);break;case"div":s.add(a);break}}const i=Array.from(s).map(a=>`${a}`);return T(i)}function u(e,t){const n=t-e+1;return Math.trunc(Math.random()*n)+e}const pe=100;function ve(e,t){const n=new v(e);let r=0;h.exports.useEffect(()=>{if(n.state=e,n.finished){clearInterval(r);return}function s(){n.elapsedChanged&&t({type:"update_elapsed"})}return r=setInterval(s,pe),()=>clearInterval(r)},[e.elapsedSeconds])}function x(e){switch(e){case"easy":return 5;case"med":return 3;case"hard":return 2;case"insane":return 1}}const we={max:10,min:1,modes:["div"],questions:20,timeLimit:"med"};let I=we;const y={set gameOptions(e){I=e},get gameOptions(){return I}};function be(){const e={options:y.gameOptions},[t,n]=h.exports.useReducer(ye,e,xe);return Se(n),ve(t,n),new v(t).finished?o(H,{state:t}):o(ce,{state:t,dispatch:n})}function Se(e){h.exports.useEffect(()=>{e({type:"start_game"})},[])}function xe({options:e}){const t=ae(e),n=e.questions*x(e.timeLimit);return{options:e,problems:t,activeProblemIndex:0,problemCount:t.length,answers:[],allowedSeconds:n,elapsedSeconds:0,startTimestamp:-1}}function ye(e,t){switch(t.type){case"choose_answer":return Te(e,t);case"start_game":return Ee(e);case"update_elapsed":return Ne(e)}return e}function Te(e,t){e.answers[e.activeProblemIndex]=t.answer;const n=e.activeProblemIndex+1;return{...e,activeProblemIndex:n}}function Ee(e){return{...e,startTimestamp:Date.now()}}function Ne(e){const t=new v(e);return{...e,elapsedSeconds:t.actualElapsedSeconds}}const Ae={name:"36e18b",styles:"width:100%;line-height:2.7rem;height:3rem;font-size:1.5rem;display:flex;border:solid 0.1rem black;border-radius:0.5rem;overflow:hidden;&.modes>div{font-size:3rem;line-height:2.5rem;}&.modes>div.selected{border-right-color:white;}&.error{border-color:red;}&.error>div{border-right-color:red;color:red;}"},Ce={name:"jnbk6g",styles:"text-align:center;border-right:solid 0.1rem black;&:last-child{border-right:0;}&.selected{background:black;color:white;}"};function S({modes:e,options:t,value:n,onSelect:r,onDeselect:s,validationError:i}){const c=`${100/t.length}%`;return o("div",{css:Ae,className:`${e?"modes":""} ${i?"error":""}`,children:t.map((a,m)=>{const f=Array.isArray(n)?n.includes(a.value):a.value===n;function l(){Array.isArray(n)&&new Set(n).has(a.value)?s==null||s(a.value):r==null||r(a.value)}function g(){ke()||l()}return o("div",{onTouchStart:l,onMouseDown:g,css:Ce,className:`${f?"selected":""}`,style:{width:c},children:a.text},m)})})}function ke(){return"ontouchstart"in window||navigator.maxTouchPoints>0}const Ie={name:"u9cnc0",styles:"p{text-align:center;margin-bottom:0;}padding:1rem;.hint{text-align:center;color:grey;}"},Me=[{text:"+",value:"add"},{text:"-",value:"sub"},{text:"\xD7",value:"mult"},{text:"\xF7",value:"div"}],_e=[{text:"10",value:10},{text:"25",value:25},{text:"50",value:50},{text:"75",value:75},{text:"100",value:100}],Oe=[{text:"Easy",value:"easy"},{text:"Med",value:"med"},{text:"Hard",value:"hard"},{text:"\u{1F92F}",value:"insane"}];function Le(){const e=y.gameOptions,[t,n]=h.exports.useState(e.timeLimit),[r,s]=h.exports.useState(e.modes),[i,c]=h.exports.useState(e.questions);y.gameOptions={max:10,min:1,modes:r,questions:i,timeLimit:t};function a(l){const g=[...r.filter(p=>p!==l),l];s(g)}function m(l){const g=r.filter(p=>p!==l);s(g)}const f=r.length===0;return d("div",{css:Ie,children:[o(Pe,{}),o("p",{children:"Which modes?"}),o(S,{modes:!0,options:Me,value:r,onSelect:a,onDeselect:m,validationError:f}),o("p",{children:"How many questions?"}),o(S,{options:_e,value:i,onSelect:l=>c(l)}),o("p",{children:"Time pressure?"}),o(S,{options:Oe,value:t,onSelect:l=>n(l)}),d("div",{className:"hint",children:[x(t)," second",x(t)===1?"":"s"," per question",t==="insane"?"!!":""]}),o(O,{children:o(L,{to:"/countdown",disabled:f,children:"START!"})})]})}const $e={name:"1x6xj4j",styles:"font-size:8vh;text-align:center"};function Pe(){return o("h1",{css:$e,children:"BASIC FACTS"})}function Re(){return o(R,{children:d(z,{children:[o(w,{path:"/",element:o(Le,{})}),o(w,{path:"/countdown",element:o(Y,{})}),o(w,{path:"/game",element:o(be,{})})]})})}async function ze(){const e=o(h.exports.StrictMode,{children:o(Re,{})}),t=document.getElementById("root");D(t).render(e)}ze();
