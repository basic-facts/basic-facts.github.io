import{j as r,L as E,r as d,N as I,a as l,F as L,s as N,B as A,R as h,b as M,c as P}from"./vendor.a354651e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const R={name:"19thtl7",styles:"position:absolute;top:0.1rem;left:0.1rem;appearance:none;border-radius:50%;width:3rem;height:3rem;border:none;background:none;font-size:1.5rem;color:grey;display:flex;justify-content:center;align-items:center;padding-right:0.1rem;.symbol{transform:scaleX(0.68);color:grey;}&:active{opacity:1;background:black;color:white;}"};function S({onClick:e}){return r(E,{to:"/",children:r("div",{css:R,onClick:e,children:r("div",{className:"symbol",children:"\u1438"})})})}const $={name:"91e0ow",styles:"width:100vw;height:100vh;font-size:40vh;display:flex;justify-content:center;align-items:center;padding-bottom:10vh"};function z(){const[e,t]=d.exports.useState(5);return d.exports.useEffect(()=>{const n=setInterval(()=>{t(e-1)},750);return()=>clearInterval(n)}),e===0?r(I,{to:"/game",replace:!0}):l("div",{css:$,children:[r(S,{}),r("div",{children:e})]})}const B={name:"1swfqch",styles:"position:absolute;bottom:1rem;left:1rem;right:1rem;background:none;font-size:3rem;line-height:4rem;display:flex;justify-content:space-between;align-items:center;&:active{bottom:0.9rem;text-decoration:none;}"};function C({children:e}){return r("div",{css:B,children:e})}const D={name:"152gnx4",styles:"text-align:center;appearance:none;border:none;background:none;padding:0 1rem;font-size:3rem;line-height:4rem;border:solid 0.25rem darkgreen;border-radius:1rem;display:flex;justify-content:center;align-items:center;background:lightgreen;color:green;font-weight:bold;width:100%;&:active{bottom:0.9rem;text-decoration:none;}"};function _({to:e,children:t,onClick:n}){return r(E,{to:e,css:D,onClick:n,children:t})}function j(e,t){const n=`00000${e}`;return n.slice(n.length-t)}function w(e){const t=Math.trunc(e/60),n=e-t*60;return{wholeMinutes:t,leftoverSeconds:n}}function Y(e){const{wholeMinutes:t,leftoverSeconds:n}=w(e);return`${t>0?t+"m ":""}${n}s`}class m{constructor(t){this.state=t}get elapsedChanged(){return this.actualElapsedSeconds!==this.state.elapsedSeconds}get actualElapsedSeconds(){return Math.trunc((Date.now()-this.state.startTimestamp)/1e3)}get secondsRemaining(){return this.state.allowedSeconds-this.state.elapsedSeconds}get numAnswers(){return this.state.answers.length}get numCorrectAnswers(){return this.state.answers.reduce((t,n,o)=>n===this.state.problems[o].correctAnswer?t+1:t,0)}get elapsedTime(){const{wholeMinutes:t,leftoverSeconds:n}=w(this.state.elapsedSeconds);return`${t>0?t+"m ":""}${n}s`}get numProblems(){return this.state.problemCount}get percentCorrectDisplay(){return`${Math.round(this.numCorrectAnswers/this.numProblems*100)}%`}get averageTimePerQuestion(){return`${(this.state.elapsedSeconds/this.numAnswers).toFixed(1)}s per question`}get percentCorrect(){return this.numCorrectAnswers/this.numProblems*100}get finished(){return this.state.elapsedSeconds>=this.state.allowedSeconds||this.state.answers.length===this.state.problemCount}}const F={name:"17fxwvp",styles:"width:100vw;height:100vh;display:flex;font-size:5vh;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:10vh;section{display:flex;font-size:5vh;flex-direction:column;justify-content:center;align-items:center;}section+section{margin-top:2vh;}p{margin:0;padding:0;text-align:center;font-size:5vh;}.title{font-size:2rem;margin-bottom:-0.5rem;}.fact{font-size:10vh;margin:-1rem 0;}.micro-fact{font-size:3vh;color:#777;}.great{color:#028118;}.ok{color:#f1984a;}.poor{color:#eb3e3e;}"};function U({state:e}){const t=new m(e);return l("div",{css:F,children:[r(S,{}),l("section",{children:[l("p",{className:"title",children:[t.numProblems," questions"]}),l("p",{className:"micro-fact",children:["allowed time: ",Y(e.allowedSeconds)]})]}),l("section",{children:[r("p",{className:"title",children:"Time"}),r("p",{className:`fact ${Q(t.secondsRemaining)}`,children:t.elapsedTime}),r("p",{className:"micro-fact",children:t.averageTimePerQuestion})]}),l("section",{children:[r("p",{className:"title",children:"Accuracy"}),l("p",{className:`fact ${q(t.percentCorrect)}`,children:[t.numCorrectAnswers,"/",t.numProblems,r("br",{})]}),l("p",{className:"micro-fact",children:[t.percentCorrectDisplay," for ",t.numAnswers," answers"]})]}),r(C,{children:r(_,{to:"/countdown",children:"ANOTHER!"})})]})}function q(e){return e<70?"poor":e<92?"ok":"great"}function Q(e){return e<5?"poor":e<30?"ok":"great"}const G={name:"4fozbo",styles:"font-size:10vh;width:40vw;height:40vw;display:flex;padding-bottom:0.7rem;background:hotpink;justify-content:center;align-items:center;border-radius:1.5rem;background:white;border:solid 0.25rem black;&:active{background:black;color:white;}"};function H({answer:e,onClick:t}){return r("button",{onClick:t,css:G,children:e})}const W={name:"1n78umm",styles:"font-size:10vh;width:100%;justify-content:center;align-items:space-around;display:flex;flex-wrap:wrap;margin:0;padding:0;gap:1rem;position:absolute;bottom:calc((100vw - 2 * 40vw) / 2)"};function K({children:e}){return r("div",{css:W,children:e})}const X={name:"1dbrxej",styles:"position:absolute;right:1rem;top:2vh;color:grey;&.close{color:red;font-weight:bold;}"};function V({remainingSeconds:e}){const{wholeMinutes:t,leftoverSeconds:n}=w(e),s=t===0&&n<10?"close":"";return l("div",{css:X,className:s,children:[t,":",j(n,2)]})}const Z={name:"1vdgxkh",styles:"width:50vw;height:0.5rem;position:relative;border:solid 1px #d0d0d0;border-radius:0.5rem;left:25vw;top:3.5vh;overflow:hidden"},J={name:"553h9c",styles:"width:80vw;height:0.5rem;top:0;left:0;height:0.5rem;background:#d0d0d0"};function ee({n:e,of:t}){const n=`${e/t*100}%`;return r("div",{css:Z,children:r("div",{css:J,style:{width:n}})})}const te={name:"15a6l20",styles:"font-size:17vh;width:100vw;height:calc(100vh - 100vw - 3rem);justify-content:center;align-items:center;display:flex;padding-bottom:0.8rem;font-weight:100;position:absolute;top:0"};function ne({prompt:e}){return r("div",{css:te,children:e})}function re({state:e,dispatch:t}){const n=e.problems[e.activeProblemIndex];return l(L,{children:[r(ee,{n:e.activeProblemIndex+1,of:e.problemCount}),r(V,{remainingSeconds:e.allowedSeconds-e.elapsedSeconds}),r(ne,{prompt:n.prompt}),r(K,{children:n.choices.map(o=>{function s(){t({type:"choose_answer",answer:o})}return r(H,{answer:o,onClick:s})})}),r(S,{})]})}const k=4;function oe(e){const t=[];let n;for(;t.length<e.questions;){const o=se(e);o.prompt!==(n==null?void 0:n.prompt)&&t.push(o)}return t}function se(e){switch(e.mode){case"div":return y(e);case"mult":return b(e);case"both":return Math.random()<.5?y(e):b(e);default:throw new Error(`mode NYI: ${e.mode}`)}}function b(e){const t=u(e.min,e.max),n=u(e.min,e.max),o=t*n,s=`${o}`,i=`${t} \xD7 ${n}`,c=ie(o,t,n,e);return{correctAnswer:s,choices:c,prompt:i}}function ie(e,t,n,o){if(t==1||n==1)return x([n*(t+1),t*(n+1)],e,o);const s=t+1,i=t-1,c=n+1,a=n-1,O=[t*s,n*i,c*a];return x(O,e,o)}function x(e,t,n){const o=new Set([...e,t]);for(;o.size<k;){const c=u(n.min,n.max),a=u(n.min,n.max);o.add(c*a)}const s=Array.from(o).map(c=>`${c}`);return N(s)}function y(e){const t=u(e.min,e.max),n=u(e.min,e.max),o=`${t}`,i=`${t*n} \xF7 ${n}`,c=ce(t,e);return{correctAnswer:o,choices:c,prompt:i}}function ce(e,t){const{min:n,max:o}=t;if(e===n){const a=[n+1,n+2];return f(a,e,t)}if(e===o){const a=[o-1,o-2];return f(a,e,t)}const s=e+1,i=e-1;return f([s,i],e,t)}function f(e,t,n){const o=new Set([...e,t]);for(;o.size<k;){const c=u(n.min,n.max);o.add(c)}const s=Array.from(o).map(c=>`${c}`);return N(s)}function u(e,t){const n=t-e+1;return Math.trunc(Math.random()*n)+e}const ae=100;function le(e,t){const n=new m(e);let o=0;d.exports.useEffect(()=>{if(n.state=e,n.finished){clearInterval(o);return}function s(){n.elapsedChanged&&t({type:"update_elapsed"})}return o=setInterval(s,ae),()=>clearInterval(o)},[e.elapsedSeconds])}function g(e){switch(e){case"easy":return 5;case"med":return 3;case"hard":return 2;case"insane":return 1}}const de={max:10,min:1,mode:"div",questions:20,timeLimit:"med"};let T=de;const v={set gameOptions(e){T=e},get gameOptions(){return T}};function ue(){const e={options:v.gameOptions},[t,n]=d.exports.useReducer(fe,e,he);return me(n),le(t,n),new m(t).finished?r(U,{state:t}):r(re,{state:t,dispatch:n})}function me(e){d.exports.useEffect(()=>{e({type:"start_game"})},[])}function he({options:e}){const t=oe(e),n=e.questions*g(e.timeLimit);return{options:e,problems:t,activeProblemIndex:0,problemCount:t.length,answers:[],allowedSeconds:n,elapsedSeconds:0,startTimestamp:-1}}function fe(e,t){switch(t.type){case"choose_answer":return pe(e,t);case"start_game":return ge(e);case"update_elapsed":return ve(e)}return e}function pe(e,t){e.answers[e.activeProblemIndex]=t.answer;const n=e.activeProblemIndex+1;return{...e,activeProblemIndex:n}}function ge(e){return{...e,startTimestamp:Date.now()}}function ve(e){const t=new m(e);return{...e,elapsedSeconds:t.actualElapsedSeconds}}const Se={name:"hcloh9",styles:"width:100%;line-height:2.7rem;height:3rem;font-size:1.5rem;display:flex;border:solid 0.1rem black;border-radius:0.5rem;overflow:hidden;&.modes>div:nth-child(1),&.modes>div:nth-child(2){font-size:3rem;line-height:2.5rem;}"},we={name:"jnbk6g",styles:"text-align:center;border-right:solid 0.1rem black;&:last-child{border-right:0;}&.selected{background:black;color:white;}"};function p({modes:e,options:t,value:n,onSelect:o}){const s=`${100/t.length}%`;return r("div",{css:Se,className:e?"modes":"",children:t.map(i=>{const c=i.value===n;function a(){o(i.value)}return r("div",{onMouseDown:a,onTouchStart:a,css:we,className:`${c?"selected":""}`,style:{width:s},children:i.text})})})}const be={name:"u9cnc0",styles:"p{text-align:center;margin-bottom:0;}padding:1rem;.hint{text-align:center;color:grey;}"},xe=[{text:"\xD7",value:"mult"},{text:"\xF7",value:"div"},{text:"Both",value:"both"}],ye=[{text:"10",value:10},{text:"25",value:25},{text:"50",value:50},{text:"75",value:75},{text:"100",value:100}],Te=[{text:"Easy",value:"easy"},{text:"Med",value:"med"},{text:"Hard",value:"hard"},{text:"\u{1F92F}",value:"insane"}];function Ee(){const e=v.gameOptions,[t,n]=d.exports.useState(e.timeLimit),[o,s]=d.exports.useState(e.mode),[i,c]=d.exports.useState(e.questions);return v.gameOptions={max:10,min:1,mode:o,questions:i,timeLimit:t},l("div",{css:be,children:[r(Ce,{}),r("p",{children:"Which mode?"}),r(p,{modes:!0,options:xe,value:o,onSelect:a=>s(a)}),r("p",{children:"How many questions?"}),r(p,{options:ye,value:i,onSelect:a=>c(a)}),r("p",{children:"Time pressure?"}),r(p,{options:Te,value:t,onSelect:a=>n(a)}),l("div",{className:"hint",children:[g(t)," second",g(t)===1?"":"s"," per question",t==="insane"?"!!":""]}),r(C,{children:r(_,{to:"/countdown",children:"START!"})})]})}const Ne={name:"1x6xj4j",styles:"font-size:8vh;text-align:center"};function Ce(){return r("h1",{css:Ne,children:"BASIC FACTS"})}function _e(){return r(A,{children:l(M,{children:[r(h,{path:"/",element:r(Ee,{})}),r(h,{path:"/countdown",element:r(z,{})}),r(h,{path:"/game",element:r(ue,{})})]})})}async function ke(){const e=r(d.exports.StrictMode,{children:r(_e,{})}),t=document.getElementById("root");P(t).render(e)}ke();
